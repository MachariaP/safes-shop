{% extends "base.html" %}
{% load static %}

{% block title %}About Us - Diplomat Safes{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/about_us.css' %}">
{% endblock %}

{% block content %}
<div class="container py-5 about-us-container">
    <div class="row">
        <div class="col-12 col-lg-10 mx-auto">
            <!-- Header Section -->
            <header class="text-center mb-5">
                <h1 class="display-4 fw-bold text-primary mb-3">About Diplomat Safes</h1>
                <div class="divider mx-auto"></div>
            </header>

            <!-- Our Story -->
            <section class="card shadow-sm mb-5 story-section">
                <div class="card-body p-4 p-lg-5">
                    <h2 class="h3 mb-4 fw-semibold">Our Story</h2>
                    <p class="lead text-muted">Since 1987, Diplomat Safes has been Kenya's trusted provider of premium security solutions for homes and businesses.</p>
                    <p class="text-muted">Founded in Nairobi by John Kamau, our journey began with a vision to craft safes that combine unmatched security with elegant design. From a small workshop, we've grown into East Africa's leading safe manufacturer, protecting valuables for thousands of customers.</p>
                    <p class="text-muted">Our safes blend German engineering precision with Kenyan craftsmanship, ensuring world-class quality tailored to local needs.</p>
                </div>
            </section>

            <!-- Mission and Values -->
            <section class="row mb-5">
                <div class="col-12 col-md-6 mb-4">
                    <div class="card h-100 shadow-sm mission-card">
                        <div class="card-body p-4">
                            <h3 class="h4 mb-3 fw-semibold">Our Mission</h3>
                            <p class="text-muted">Deliver innovative security solutions that provide peace of mind through superior craftsmanship, advanced technology, and exceptional service.</p>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> High-quality materials</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> Rigorous testing</li>
                                <li><i class="fas fa-check-circle text-primary me-2"></i> Continuous innovation</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 mb-4">
                    <div class="card h-100 shadow-sm values-card">
                        <div class="card-body p-4">
                            <h3 class="h4 mb-3 fw-semibold">Our Values</h3>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> <strong>Security:</strong> Prioritizing your safety</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> <strong>Craftsmanship:</strong> Supporting local artisans</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> <strong>Innovation:</strong> Advancing technology</li>
                                <li><i class="fas fa-check-circle text-primary me-2"></i> <strong>Integrity:</strong> Transparent practices</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Our Team -->
            <section class="card shadow-sm mb-5 team-section">
                <div class="card-body p-4 p-lg-5">
                    <h2 class="h3 mb-4 fw-semibold">Our Team</h2>
                    <p class="text-muted">Our dedicated team includes certified locksmiths, mechanical engineers, and customer service professionals committed to excellence. We invest in ongoing training to deliver top-tier service, from consultation to installation.</p>
                    <div class="row text-center team-grid" id="team-grid">
                        {% for member in team_members %}
                        <div class="col-12 col-sm-6 col-md-4 mb-4">
                            <div class="team-member position-relative">
                                <img src="{{ member.image.url }}" alt="{{ member.name }}" class="rounded-circle mb-3 team-img" 
                                     data-bs-toggle="modal" data-bs-target="#teamModal" 
                                     data-name="{{ member.name }}" 
                                     data-title="{{ member.title }}" 
                                     data-bio="{{ member.bio|default:'No bio available.' }}"
                                     data-image="{{ member.image.url }}">
                                <h5 class="fw-bold">{{ member.name }}</h5>
                                <p class="text-muted">{{ member.title }}</p>
                                {% if member.bio %}
                                <p class="small text-muted bio-preview">{{ member.bio|truncatewords:10 }} 
                                    <a href="#" class="read-more" 
                                       data-bs-toggle="modal" 
                                       data-bs-target="#teamModal" 
                                       data-name="{{ member.name }}" 
                                       data-title="{{ member.title }}" 
                                       data-bio="{{ member.bio }}"
                                       data-image="{{ member.image.url }}">Read more</a>
                                </p>
                                {% else %}
                                <p class="small text-muted">No bio available.</p>
                                {% endif %}
                            </div>
                        </div>
                        {% empty %}
                        <div class="col-12 text-center">
                            <p class="text-muted">No team members added yet.</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </section>

            <!-- Call to Action -->
            <section class="text-center mt-5 cta-section">
                <a href="{% url 'store:category_product_list' category='home_commercial' %}" class="btn btn-primary btn-lg px-5 cta-button" id="view-products-cta">Explore Our Safes</a>
            </section>
        </div>
    </div>
</div>

<!-- Team Member Modal -->
<div class="modal fade" id="teamModal" tabindex="-1" aria-labelledby="teamModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-light">
                <h5 class="modal-title fw-bold" id="teamModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4 text-center mb-3 mb-md-0">
                        <img src="" alt="" class="img-fluid rounded-circle modal-member-img">
                    </div>
                    <div class="col-md-8">
                        <p class="modal-title-subtitle text-muted mb-3"></p>
                        <p class="modal-bio"></p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/about_us.js' %}"></script>
{% endblock %}